{"ast":null,"code":"var _jsxFileName = \"D:\\\\6to Semestre\\\\GithubReact\\\\PathFinder_FRONT\\\\reto\\\\src\\\\Pages\\\\Homepage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Notifications from \"../components/Notifications\";\nimport Projects from \"../components/Projects\";\nimport \"../styles/HomePage.css\";\nimport dayjs from \"dayjs\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const [notifications, setNotifications] = useState([]);\n  const [projects, setProjects] = useState([]);\n  const [certs, setCerts] = useState([]);\n  const name = localStorage.getItem(\"userName\") || \"Usuario\";\n  useEffect(() => {\n    // Proyectos locales\n    setProjects([{\n      name: \"Plataforma de Banca Digital\",\n      platform: \"BBanco\",\n      percentage: 80\n    }, {\n      name: \"Portal de Gestión de Créditos\",\n      platform: \"FinanZapp\",\n      percentage: 50\n    }, {\n      name: \"Plataforma de Inversiones\",\n      platform: \"InvestEasy\",\n      percentage: 90\n    }]);\n    const fetchCertifications = async () => {\n      try {\n        const res = await fetch(\"https://pathfinder-back-hnoj.onrender.com/employees/certifications\", {\n          headers: {\n            token: localStorage.getItem(\"token\")\n          }\n        });\n        const data = await res.json();\n        if (data.certificationsOfEmployee) {\n          const newNotifs = [];\n          const certData = data.certificationsOfEmployee.map(cert => {\n            const expiration = dayjs(cert.Certinfo.expiration);\n            const today = dayjs();\n            const diffDays = expiration.diff(today, \"day\");\n            if (diffDays <= 7) {\n              newNotifs.push(`⚠️ La certificación \"${cert.name}\" vence en ${diffDays} días (${expiration.format(\"DD/MM/YYYY\")})`);\n            }\n            return {\n              name: cert.name,\n              description: cert.description,\n              expiration: expiration.format(\"DD/MM/YYYY\")\n            };\n          });\n          setCerts(certData);\n          setNotifications(prev => [...prev, ...newNotifs]);\n        }\n      } catch (err) {\n        console.error(\"Error al obtener certificaciones\", err);\n      }\n    };\n    fetchCertifications();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container hero-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Bienvenido, \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Consulta tus notificaciones y proyectos activos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"homepage-container fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Notifications, {\n            notifications: notifications\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Projects, {\n            projects: projects\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-3\",\n          children: \"Certificaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), certs.map((cert, i) => /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 border rounded bg-light shadow-sm h-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"fw-bold text-primary\",\n              children: cert.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted\",\n              children: cert.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Expira:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-danger\",\n                children: cert.expiration\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(HomePage, \"0kAs6fJFsKTla+nTRL0PP7C7UYY=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","Container","Row","Col","Notifications","Projects","dayjs","jsxDEV","_jsxDEV","Fragment","_Fragment","HomePage","_s","notifications","setNotifications","projects","setProjects","certs","setCerts","name","localStorage","getItem","platform","percentage","fetchCertifications","res","fetch","headers","token","data","json","certificationsOfEmployee","newNotifs","certData","map","cert","expiration","Certinfo","today","diffDays","diff","push","format","description","prev","err","console","error","children","className","fileName","_jsxFileName","lineNumber","columnNumber","md","i","_c","$RefreshReg$"],"sources":["D:/6to Semestre/GithubReact/PathFinder_FRONT/reto/src/Pages/Homepage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport Notifications from \"../components/Notifications\";\r\nimport Projects from \"../components/Projects\";\r\nimport \"../styles/HomePage.css\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst HomePage = () => {\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [projects, setProjects] = useState([]);\r\n  const [certs, setCerts] = useState([]);\r\n  const name = localStorage.getItem(\"userName\") || \"Usuario\";\r\n\r\n  useEffect(() => {\r\n    // Proyectos locales\r\n    setProjects([\r\n      {\r\n        name: \"Plataforma de Banca Digital\",\r\n        platform: \"BBanco\",\r\n        percentage: 80,\r\n      },\r\n      {\r\n        name: \"Portal de Gestión de Créditos\",\r\n        platform: \"FinanZapp\",\r\n        percentage: 50,\r\n      },\r\n      {\r\n        name: \"Plataforma de Inversiones\",\r\n        platform: \"InvestEasy\",\r\n        percentage: 90,\r\n      },\r\n    ]);\r\n\r\n    const fetchCertifications = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          \"https://pathfinder-back-hnoj.onrender.com/employees/certifications\",\r\n          {\r\n            headers: {\r\n              token: localStorage.getItem(\"token\"),\r\n            },\r\n          }\r\n        );\r\n        const data = await res.json();\r\n\r\n        if (data.certificationsOfEmployee) {\r\n          const newNotifs = [];\r\n          const certData = data.certificationsOfEmployee.map((cert) => {\r\n            const expiration = dayjs(cert.Certinfo.expiration);\r\n            const today = dayjs();\r\n            const diffDays = expiration.diff(today, \"day\");\r\n\r\n            if (diffDays <= 7) {\r\n              newNotifs.push(\r\n                `⚠️ La certificación \"${cert.name}\" vence en ${diffDays} días (${expiration.format(\"DD/MM/YYYY\")})`\r\n              );\r\n            }\r\n\r\n            return {\r\n              name: cert.name,\r\n              description: cert.description,\r\n              expiration: expiration.format(\"DD/MM/YYYY\"),\r\n            };\r\n          });\r\n\r\n          setCerts(certData);\r\n          setNotifications((prev) => [...prev, ...newNotifs]);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error al obtener certificaciones\", err);\r\n      }\r\n    };\r\n\r\n    fetchCertifications();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <section className=\"hero-section\">\r\n        <div className=\"container hero-text\">\r\n          <h1>Bienvenido, {name}</h1>\r\n          <p>Consulta tus notificaciones y proyectos activos</p>\r\n        </div>\r\n      </section>\r\n\r\n      <Container className=\"homepage-container fade-in\">\r\n        <Row>\r\n          <Col md={6}>\r\n            <Notifications notifications={notifications} />\r\n          </Col>\r\n          <Col md={6}>\r\n            <Projects projects={projects} />\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className=\"mt-4\">\r\n          <h4 className=\"mb-3\">Certificaciones</h4>\r\n          {certs.map((cert, i) => (\r\n            <Col key={i} md={6} className=\"mb-3\">\r\n              <div className=\"p-3 border rounded bg-light shadow-sm h-100\">\r\n                <h5 className=\"fw-bold text-primary\">{cert.name}</h5>\r\n                <p className=\"text-muted\">{cert.description}</p>\r\n                <p className=\"mb-0\">\r\n                  <strong>Expira:</strong>{\" \"}\r\n                  <span className=\"text-danger\">{cert.expiration}</span>\r\n                </p>\r\n              </div>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}